<html>
  <body>
    <script>
      const scriptToInject = `
        document.querySelector('#postalCode').value = '{{ profile.postal_code }}';
        document.querySelector('#email').value = '{{ profile.email }}';
        document.querySelector('#confEmail').value = '{{ profile.email }}';
        document.querySelector('#explanation').value = '{{ explanation }}';
      `;

      const win = window.open("https://services.montreal.ca/plaidoyer/rechercher/en", "_blank");

      setTimeout(() => {
        try {
          win.eval(scriptToInject);
        } catch (err) {
          alert("Browser blocked auto-fill. Please paste manually.");
        }
      }, 3000);
    </script>
  </body>
</html>
